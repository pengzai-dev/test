<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const tree = {
        name: 'root',
        children: [
          {
            name: 'subtree1',
            children: [{ name: 'child1' }, { name: 'child2' }],
          },
          { name: 'child3' },
          {
            name: 'subtree2',
            children: [
              {
                name: 'child1',
                children: [{ name: 'child4' }, { name: 'child5' }],
              },
              { name: 'child6' },
            ],
          },
        ],
      };
      const getLeaves = (tree) => {
        if (!tree.children) {
          // 如果一棵树没有孩子，它的叶子就是树本身。
          return tree;
        }

        return tree.children // 否则它的叶子就是所有子节点的叶子。
          .map(getLeaves) // 在这一步，我们可以嵌套数组 （[child1, [grandChild1, grandChild2], ...]）
          .reduce((acc, item) => acc.concat(item), []); // 所以我们用 concat 来连接铺平数组 [1,2,3].concat(4) => [1,2,3,4] 以及 [1,2,3].concat([4]) => [1,2,3,4]
      };
    </script>
  </body>
</html>
